---
title: 買い物かごの永続性
description: 永続ショッピングカートが買い物かごの未購入アイテムを追跡し、顧客の次回の訪問に備えて情報を保存する方法を説明します。
exl-id: 95c336b3-77ac-4cf6-8fb5-23f4ac4b67d6
feature: Shopping Cart, Configuration
source-git-commit: a6cfcbb5774c0bafc3b7e7c96881329bde837837
workflow-type: tm+mt
source-wordcount: '1038'
ht-degree: 0%

---

# 買い物かごの永続性

永続的な買い物かごは、現在のデバイス上の顧客のアカウントへの参照を保存し、ログインしたセッションの有効期限が切れても買い物かごの内容にアクセスできるようにします。

顧客が _記憶_ されている場合、ログインしたセッションが期限切れになっても、買い物かごの内容には現在のデバイスで引き続きアクセスできます。 セッションの有効期限が切れると、永続的な買い物かごセッションを使用して、顧客の買い物かごにアクセスできます。 同じ顧客が別のデバイスまたはブラウザーにログインし、買い物かごに何かを追加してから、アクティブな永続セッションでデバイスに戻った場合、追加された項目で買い物かごが更新されます。

永続的な買い物かごを使用すると、放棄された買い物かごの数を減らし、売上高を増やすことができます。 永続的な買い物かご **アカウントの機密情報が公開される** はありません）。

サイトまたは特定のストア表示内での買い物かごの永続性の使用を管理するには、[ 永続的な買い物かごの設定 ](#configure-a-persistent-cart) を指定できます。 これらの設定がストアフロントの買い物客エクスペリエンスに与える影響について詳しくは、[ 永続的な買い物かごワークフロー ](#persistent-cart-workflow) を参照してください。

>[!NOTE]
>
>永続的な買い物かご機能は、登録され、ログインした顧客のみが使用できます。 ゲストの買い物客は、永続的な買い物かご機能を使用できません。

## 永続的な買い物かごワークフロー

永続的な買い物かごが [ 有効 ](#configure-a-persistent-cart) になっている場合、ワークフローは次のものに依存します。

- _[!UICONTROL Enable Remember Me]_と_[!UICONTROL Clear Persistence on Log Out]_ の設定の値
- 顧客による「_[!UICONTROL Remember Me]_」チェックボックスのオン/オフの決定
- 永続的な Cookie がクリアされた場合

顧客セッションの有効期限が切れると、次の条件下でページヘッダーに `Not Jane Smith?` リンクが表示されます。
- ログインしたユーザーが _[!UICONTROL Remember Me]_オプションを選択し、永続的な cookie が適用されている
- _[!UICONTROL Clear Persistence on Sign Out]_を `No` に設定してシステムを設定すると、お客様はログアウトします。

システムは、ログインセッションの有効期限が切れても、買い物かごの内容の記録を現在のデバイスに保持します。 `Not Jane Smith?` のリンクを使用すると、お客様は永続的なセッションを終了してゲストとして作業を開始したり、別のお客様または同じユーザーとしてログインしたりできます。

ログイン時に顧客が「_[!UICONTROL Remember Me]_」チェックボックスをオンにした場合、ストアは個別の永続 cookie を作成および管理します。 この cookie は、ブラウザーを閉じた後や別のサイトに移動し、ログインセッションが期限切れになった後でも、顧客の買い物かごにアクセスし続けるのに役立ちます。

ログイン中または永続セッションがアクティブな状態で、この同じ顧客が複数のブラウザーを使用してストアを訪問した場合、あるブラウザーで顧客が買い物かごコンテンツに加えた変更は、ページが更新されると、他のブラウザーに反映されます。

>[!NOTE]
>
>複数のデバイスやブラウザー間で買い物かごを確実に同期させるには、顧客が買い物に使用する新しいデバイスごとにログインする必要があります。 ログインしたユーザーの場合、買い物かごの中身は、永続カートの設定に関係なく、同じアカウントでログインしている限り、複数のデバイスとブラウザー間で同期されます。

### 「Remember Me」チェックボックスの動作

ログインページ、認証ポップアップ、チェックアウトログイン、または新しいアカウントの作成時に「_[!UICONTROL Remember Me]_」チェックボックスをオンにすると、ログインセッションの有効期限が切れたときに現在のデバイスで買い物かごのコンテンツにアクセスできるようになります。

| 私を覚えてる？ | 結果 |
| ------------ |  ------ |
| 個選択済み | 永続的な cookie を作成し、顧客のログインセッションの有効期限が切れても、現在のデバイス上の買い物かごの内容にアクセスできるようにします。 |
| 未選択 | 永続的な cookie を作成せず、ログインセッションの有効期限が切れても現在のデバイスで買い物かごのコンテンツにアクセスできるようにします。 買い物かごのコンテンツは引き続きお客様のアカウントに保存され、お客様が次回ログインしたときに再読み込みされることに注意してください。 |

{style="table-layout:auto"}

![ ログイン情報を記憶する ](./assets/remember-me-customer-login.png){width="600" zoomable="yes"}
![ 自分を記憶する認証ポップアップ ](./assets/remember-me-authentication-pop-up.png){width="600" zoomable="yes"}
![ チェックアウト時のログイン ](./assets/remember-me-checkout-sign-ins.png){width="600" zoomable="yes"}

### ログアウト時の動作の永続性のクリア

顧客がログインするか、「ログインを記憶する _オプションを選択した状態で登録すると_ 「ログアウト時に永続性をクリア _オプションの設定によって_ 永続的な買い物かごの動作が決定します。

|  | 「ログアウト時に永続性をクリア」を「はい」に設定 | 「ログアウト時に永続性をクリア」を「いいえ」に設定 |
| ------ | ------ | ------ |
| _記憶している_ 顧客がログアウトする | 同じ顧客が再度ログインするまで買い物かごのコンテンツが現在のデバイスに表示されないように、セッション Cookie と永続 Cookie の両方を削除します。 | セッション cookie を削除しますが、永続的な cookie は有効なままです。 買い物かごのコンテンツには、現在のデバイスでもアクセスできます。 |
| _忘れないでください_ ユーザーはログアウトしませんが、セッション cookie の有効期限が切れます | 永続的な cookie は有効なままであり、買い物かごのコンテンツには現在のデバイスからアクセスできます。 | 永続的な cookie は有効なままであり、買い物かごのコンテンツには現在のデバイスからアクセスできます。 |

### 共有コンピュータ上で開かれているセッションの例

ジェーンはログインした顧客として休暇の買い物を済ませてい _す_ 思い出してください。 彼女はジョンへのプレゼントを買い物かごに、何かお母さんへのプレゼントを加える。 その後、彼女はおやつにキッチンに行き、ログインセッションの有効期限が切れます。

ジェーンが台所にいる間、ジョンはコンピューターに向かって軽い買い物をしている。 ページ上部の `Not Jane Smith?` リンクに気付かずに、John は Jane に素敵なプレゼントを見つけて、買い物かごに追加します。 チェックアウトすると、配送先住所と請求先住所が事前に入力されていることに気付き、ログインしたと思います。 John は非常に急いでいるので、_注文レビュー_ 中に追加の項目に気付かず、注文を送信します。 ジェーンの買い物かごは空になり、ジョンが贈り物を全部買い取りました。

## 永続的な買い物かごの設定

永続的な買い物かごを設定する際に、Cookie の有効期間や、様々な顧客アクティビティで利用できるようにするオプションを指定できます。

永続的な買い物かごを使用するには、顧客のブラウザーが Cookie を許可するように設定されている必要があります。 買い物かごの操作に使用される cookie には、次の 2 種類があります。

- **セッション cookie** - サイトへの 1 回の訪問中に短期間のセッション cookie が存在します。 この cookie は、ユーザーがログアウトするか、セッションの有効期限が切れると有効期限が切れます。

- **永続的な Cookie** - ログインしたセッションが終了した後も、永続的な永続的な Cookie が引き続き存在します。 この cookie により、顧客がログアウトした場合やセッションの有効期限が切れた場合でも、顧客の買い物かごのコンテンツに引き続きアクセスできるようになります。

これらの設定が顧客ワークフローに与える影響について詳しくは、[ 永続的な買い物かごワークフロー ](#persistent-cart-workflow) を参照してください。

{{$include /help/_includes/persistent-cart-configuration.md}}
