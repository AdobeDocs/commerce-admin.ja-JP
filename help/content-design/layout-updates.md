---
title: レイアウトの更新
description: レイアウトの更新を使用してページのレイアウトをカスタマイズする方法を説明します。
exl-id: e2d8261f-cae1-4bd4-a047-f861dd7ca14e
source-git-commit: b659c7e1e8f2ae9883f1e24d8045d6dd1e90cfc0
workflow-type: tm+mt
source-wordcount: '989'
ht-degree: 0%

---

# レイアウトの更新

カスタムレイアウトの更新に取り組む前に、ストアのページの作成方法と用語の違いを理解しておくことが重要です *layout* および *レイアウトの更新*. レイアウトとは、ページの視覚的かつ構造的な構成を指します。 レイアウトの更新とは、ページの作成方法を上書きまたはカスタマイズできる、特定の XML 命令のセットを指します。

の XML レイアウト [!DNL Commerce] ストアは、コンテナとブロックの階層構造です。 すべてのページに表示される要素もあれば、特定のページにのみ表示される要素もあります。 レイアウト、コンテナ、ブロックの詳細については、を参照してください。 [レイアウトの概要](https://developer.adobe.com/commerce/frontend-core/guide/layouts/) が含まれる _フロントエンド開発者ガイド_.

この [ウィジェット](widgets.md) ツールを使用すると、既存のを簡単に追加できます [コンテンツブロック](blocks.md) をページのデフォルトレイアウトに変更します。 より高度な更新を行うには、XML レイアウトの更新コードをサーバーに保存し、そのファイルを管理者からカスタムレイアウトの更新として参照する必要があります。 プロセスの概要については、を参照してください [レイアウトの更新を使用](layout-updates.md#place-a-block-using-layout-updates).

次の図では、コンテナを参照する名前は黒で、ブロックの種類（ブロック クラス パス）は青です。

![標準ブロックレイアウト図](./assets/page-layout-default.png){width="500" zoomable="yes"}

| ブロックタイプ | 説明 |
|--- |--- |
| `page/html` | このブロックの名前はです。 `root` これは、レイアウト内の数少ないルートブロックの 1 つです。 独自のブロックを作成して名前を付けることもできます `root`。これは、このタイプのブロックの標準的な名前です。 このタイプのブロックは、ページごとに 1 つだけ存在できます。 |
| `page/html_head` | ブロック名は `head` ルートブロックの子です。 このタイプのブロックは、ページごとに 1 つのみ存在できるので、削除しないでください。 |
| `page/html_notices` | ブロック名は `global_notices` ルートブロックの子です。 このブロックがレイアウトから削除されると、グローバル通知はページに表示されません。 このタイプのブロックは、ページごとに 1 つだけ存在できます。 |
| `page/html_header` | ブロック名は `header` ルートブロックの子です。 このブロックは、ページの上部にあるビジュアルヘッダーに対応し、いくつかの標準ブロックが含まれています。 このタイプのブロックは、ページごとに 1 つのみ存在できるので、削除しないでください。 |
| `page/html_wrapper` | デフォルトのレイアウトに含まれていますが、このブロックは非推奨であり、後方互換性を確保するためにのみ含まれています。 このタイプのブロックは使用しないでください。 |
| `page/html_breadcrumbs` | このブロックの名前はです。 `breadcrumbs` また、ヘッダーブロックの子です。 このブロックには、現在のページのパンくずリストが表示されます。 このタイプのブロックは、ページごとに 1 つだけ存在できます。 |
| `page/html_footer` | ブロック名は `footer` ルートブロックの子です。 フッターブロックは、ページの下部にある視覚的なフッターに対応し、いくつかの標準ブロックが含まれています。 このタイプのブロックは、ページごとに 1 つのみ存在できるので、削除しないでください。 |
| `page/template_links` | 標準レイアウトには、このタイプのブロックが 2 つあります。 この `top.links` ブロックはヘッダーブロックの子で、上部のナビゲーションメニューに対応します。 この `footer_links` block は footer ブロックの子で、下部のナビゲーションメニューに対応します。 <br/><br/>**_注意：_**例に示すように、テンプレートリンクを操作できます。 |
| `page/switch` | 標準レイアウトには、このタイプのブロックが 2 つあります。 この `store_language` block はヘッダーブロックの子で、最上位の言語スイッチャーに対応します。 この `store_switcher` block は footer ブロックの子で、bottom store スイッチャーに対応します。 |
| コア/メッセージ | 標準レイアウトには、このタイプのブロックが 2 つあります。 この `global_messages` ブロックはグローバル メッセージを表示します。 この `messages` ブロックは、他のすべてのメッセージを表示するために使用されます。 これらのブロックを削除すると、メッセージは表示されません。 |
| `core/text_list` | この種のブロックは全体で広く使用されています [!DNL Commerce] 子ブロックをレンダリングするためのプレースホルダーとして使用します。 |
| `core/profiler` | このタイプのブロックのインスタンスは、ページごとに 1 つだけです。 内部に使用されます [!DNL Commerce] プロファイラー。他の目的には使用しないでください。 |

{style="table-layout:auto"}

## レイアウトの更新を使用してブロックを配置する

[レイアウトの更新](layout-updates.md) ページのレイアウトをカスタマイズできるようにします。 レイアウトの更新は、 [ウィジェット](widgets.md)ただし、サーバーへのアクセスと XML の基本知識が必要です。

次の手順は、レイアウトの更新を使用してページにブロックを配置する方法を示しています。 具体的な例と構文のヘルプについては、を参照してください。 [一般的なレイアウトのカスタマイズタスク](https://developer.adobe.com/commerce/frontend-core/guide/layouts/) が含まれる _フロントエンド開発者ガイド_.

### 手順 1：ブロックの作成

1. を作成 [ブロック](block-add.md) 配置する。

1. をメモします `block_id`レイアウトの更新手順で使用されるからです。

### 手順 2:XML でレイアウトの更新を作成する

1. レイアウト手順を XML で作成し、次の操作を行います [CMS ブロックの参照](https://developer.adobe.com/commerce/frontend-core/guide/layouts/xml-manage/).

1. を保存します [レイアウト手順](https://developer.adobe.com/commerce/frontend-core/guide/layouts/xml-instructions/) テーマの XML ファイルが保存されるレイアウトフォルダーのサーバー上。

   例：

   `<theme_dir>/<Namespace>_<Module>/layout`

   レイアウトハンドルは、で始まるファイル名です。 `cms_page_view_selectable_`、CMS ページの URL キー、レイアウト更新オプション、 `xml` ファイルサフィックス。 次の例では、 `customer-service` はページの URL キーで、かつ `ChatTool` は、レイアウトの更新をページに適用するために選択するオプションです。

   `cms_page_view_selectable_`&lt;`customer-service`>`_`&lt;`ChatTool`>`.xml`

   | 要素 | 説明 |
   |--- |--- |
   | CMS ページ識別子 | スラッシュを含むページの URL キー（`/`）がアンダースコア（`_`）に設定します。 |
   | レイアウト更新名 | に表示されるオプション _カスタムレイアウトの更新_. |

   {style="table-layout:auto"}

### 手順 3：ページからレイアウトの更新を参照する

1. 日 _Admin_ サイドバー、に移動 **[!UICONTROL Content]** > _[!UICONTROL Elements]_>**[!UICONTROL Pages]**.

1. ブロックを配置するページを見つけて、編集モードで開きます。

1. 下にスクロールして展開 ![展開セレクター](../assets/icon-display-expand.png) この **[!UICONTROL Design]** セクション。

1. ページに関連付けられている使用可能なすべてのレイアウト更新を表示するには、 **[!UICONTROL Custom Layout Update]** メニュー。

   ![カスタムレイアウトの更新リスト](./assets/page-design-custom-layout-update.png){width="400" zoomable="yes"}

1. ページに適用するレイアウトの更新を選択します。

### 手順 4：キャッシュを保存して更新する

1. 完了したら、 **[!UICONTROL Save & Close]**.

1. ワークスペースの上部にあるメッセージで、 **[!UICONTROL Cache Management]** 無効なキャッシュ項目をすべて更新します。
