---
title: レイアウトの更新
description: レイアウトの更新を使用してページのレイアウトをカスタマイズする方法を説明します。
exl-id: e2d8261f-cae1-4bd4-a047-f861dd7ca14e
source-git-commit: b659c7e1e8f2ae9883f1e24d8045d6dd1e90cfc0
workflow-type: tm+mt
source-wordcount: '1007'
ht-degree: 0%

---

# レイアウトの更新

カスタムレイアウトの更新を使用する前に、ストアのページがどのように構築されるか、および用語の違いを理解することが重要です *レイアウト* および *レイアウトの更新*. レイアウトは、ページの視覚的および構造的構成を指します。 レイアウトの更新とは、ページの構築方法を上書きまたはカスタマイズできる、特定の XML 命令のセットを指します。

の XML レイアウト [!DNL Commerce] ストアは、コンテナとブロックの階層構造です。 一部の要素は各ページに表示され、その他の要素は特定のページにのみ表示されます。 レイアウト、コンテナ、ブロックについて詳しくは、 [レイアウトの概要](https://developer.adobe.com/commerce/frontend-core/guide/layouts/) （内） _フロントエンド開発者ガイド_.

The [Widget](widgets.md) ツールは、既存の [コンテンツブロック](blocks.md) をページのデフォルトのレイアウトに追加します。 より高度な更新をおこなうには、XML レイアウトの更新コードをサーバーに保存し、管理者からカスタムレイアウトの更新としてファイルを参照する必要があります。 プロセスの概要については、 [レイアウトの更新を使用](layout-updates.md#place-a-block-using-layout-updates).

次の図では、コンテナを参照する名前は黒で、ブロックタイプ（ブロッククラスパス）は青です。

![標準ブロックレイアウト図](./assets/page-layout-default.png){width="500" zoomable="yes"}

| ブロックタイプ | 説明 |
|--- |--- |
| `page/html` | このブロックの名前は次のとおりです。 `root` これはレイアウト内の数少ないルートブロックの 1 つです。 独自のブロックを作成し、名前を付けることもできます `root`：このタイプのブロックの標準名です。 このタイプのブロックは、1 ページにつき 1 つだけ存在します。 |
| `page/html_head` | ブロック名は次のとおりです。 `head` そしてそれはルートブロックの子です。 このタイプのブロックは、1 ページにつき 1 つのみ存在し、削除してはいけません。 |
| `page/html_notices` | ブロック名は次のとおりです。 `global_notices` そしてそれはルートブロックの子です。 このブロックがレイアウトから削除された場合、グローバル通知はページに表示されません。 このタイプのブロックは、1 ページにつき 1 つだけ存在します。 |
| `page/html_header` | ブロック名は次のとおりです。 `header` そしてそれはルートブロックの子です。 このブロックは、ページ上部のビジュアルヘッダーに対応し、いくつかの標準ブロックが含まれています。 このタイプのブロックは、1 ページにつき 1 つのみ存在し、削除してはいけません。 |
| `page/html_wrapper` | デフォルトのレイアウトに含まれていますが、このブロックは非推奨となり、後方互換性を確保するためにのみ含まれています。 このタイプのブロックは使用しないでください。 |
| `page/html_breadcrumbs` | このブロックの名前は次のとおりです。 `breadcrumbs` これはヘッダーブロックの子です。 このブロックには、現在のページのパンくずリストが表示されます。 このタイプのブロックは、1 ページにつき 1 つだけ存在します。 |
| `page/html_footer` | ブロック名は次のとおりです。 `footer` そしてそれはルートブロックの子です。 フッターブロックは、ページ下部のビジュアルフッターに対応し、いくつかの標準ブロックが含まれています。 このタイプのブロックは、1 ページにつき 1 つのみ存在し、削除してはいけません。 |
| `page/template_links` | 標準レイアウトには、このタイプのブロックが 2 つあります。 The `top.links` block は、ヘッダーブロックの子で、上部のナビゲーションメニューに対応します。 The `footer_links` block は、フッターブロックの子で、下部のナビゲーションメニューに対応します。 <br/><br/>**_注意：_**次の例に示すように、テンプレートリンクを操作できます。 |
| `page/switch` | 標準レイアウトには、このタイプのブロックが 2 つあります。 The `store_language` block はヘッダーブロックの子で、上部言語スイッチャーに対応します。 The `store_switcher` block は、フッターブロックの子で、下部ストアスイッチャーに対応します。 |
| コア/メッセージ | 標準レイアウトには、このタイプのブロックが 2 つあります。 The `global_messages` ブロックは、グローバルメッセージを表示します。 The `messages` ブロックは、その他のすべてのメッセージを表示するために使用します。 これらのブロックを削除すると、顧客にはメッセージは表示されません。 |
| `core/text_list` | このタイプのブロックは、 [!DNL Commerce] 子ブロックをレンダリングするためのプレースホルダーとして。 |
| `core/profiler` | このタイプのブロックは、1 ページにつき 1 つのインスタンスのみ存在します。 これは、内部の [!DNL Commerce] プロファイラー。他の目的には使用しないでください。 |

{style="table-layout:auto"}

## レイアウトの更新を使用してブロックを配置する

[レイアウトの更新](layout-updates.md) ページのレイアウトをカスタマイズできるようにします。 レイアウトの更新は、 [widget](widgets.md)を使用するには、サーバーにアクセスし、XML の基本的な知識が必要です。

次の手順は、レイアウトの更新を使用してページにブロックを配置する方法を示しています。 構文の具体的な例とヘルプについては、 [一般的なレイアウトカスタマイズタスク](https://developer.adobe.com/commerce/frontend-core/guide/layouts/) （内） _フロントエンド開発者ガイド_.

### 手順 1：ブロックを作成する

1. を作成します。 [ブロック](block-add.md) 置きたいものを

1. 次の項目をメモします。 `block_id`（レイアウトの更新手順で使用されるため）

### 手順 2:XML でレイアウトの更新を構成する

1. レイアウト手順を XML 形式で作成して次に示します。 [CMS ブロックを参照する](https://developer.adobe.com/commerce/frontend-core/guide/layouts/xml-manage/).

1. を保存します。 [レイアウトの手順](https://developer.adobe.com/commerce/frontend-core/guide/layouts/xml-instructions/) を、XML ファイルがテーマ用に保存されるレイアウトフォルダ内のサーバー上に置きます。

   例：

   `<theme_dir>/<Namespace>_<Module>/layout`

   レイアウトハンドルは、 `cms_page_view_selectable_`、その後に CMS ページの URL キー、レイアウト更新オプション、 `xml` ファイルサフィックス。 次の例では、 `customer-service` はページの URL キー、および `ChatTool` は、ページにレイアウトの更新を適用するために選択するオプションです。

   `cms_page_view_selectable_`&lt;`customer-service`>`_`&lt;`ChatTool`>`.xml`

   | 要素 | 説明 |
   |--- |--- |
   | CMS ページ識別子 | スラッシュ (`/`) がアンダースコア (`_`) をクリックします。 |
   | レイアウト更新名 | に表示されるオプション _カスタムレイアウトの更新_. |

   {style="table-layout:auto"}

### 手順 3：ページからのレイアウト更新の参照

1. 次の日： _管理者_ サイドバー、移動 **[!UICONTROL Content]** > _[!UICONTROL Elements]_>**[!UICONTROL Pages]**.

1. ブロックを配置するページを見つけ、編集モードで開きます。

1. 下にスクロールして展開 ![拡張セレクター](../assets/icon-display-expand.png) の **[!UICONTROL Design]** 」セクションに入力します。

1. ページに関連付けられている使用可能なすべてのレイアウトの更新を表示するには、 **[!UICONTROL Custom Layout Update]** メニュー。

   ![カスタムレイアウトの更新リスト](./assets/page-design-custom-layout-update.png){width="400" zoomable="yes"}

1. ページに適用するレイアウトの更新を選択します。

### 手順 4：キャッシュを保存して更新する

1. 完了したら、「 **[!UICONTROL Save & Close]**.

1. ワークスペース上部のメッセージで、 **[!UICONTROL Cache Management]** 無効なキャッシュ項目をすべて更新します。
